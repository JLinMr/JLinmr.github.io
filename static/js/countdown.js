const CountdownTimer=(()=>{const e="2025-01-29",t="春节",n={day:{text:"今日",unit:"小时"},week:{text:"本周",unit:"天"},month:{text:"本月",unit:"天"},year:{text:"本年",unit:"天"}},a={day:()=>{const e=(new Date).getHours();return{remaining:24-e,percentage:e/24*100}},week:()=>{const e=(new Date).getDay(),t=0===e?6:e-1;return{remaining:6-t,percentage:(t+1)/7*100}},month:()=>{const e=new Date,t=new Date(e.getFullYear(),e.getMonth()+1,0).getDate(),n=e.getDate()-1;return{remaining:t-n,percentage:n/t*100}},year:()=>{const e=new Date,t=new Date(e.getFullYear(),0,1),n=365+(e.getFullYear()%4==0?1:0),a=Math.floor((e-t)/864e5);return{remaining:n-a,percentage:a/n*100}}};function r(){const r=["eventName","eventDate","daysUntil","countRight"].map((e=>document.getElementById(e)));if(r.some((e=>!e)))return;const[s,c,i,o]=r,d=new Date,l=new Date(e);s.textContent=t,c.textContent=e,i.textContent=Math.round((l-d.setHours(0,0,0,0))/864e5),o.innerHTML=Object.entries(n).map((([e,{text:t,unit:n}])=>{const{remaining:r,percentage:s}=a[e]();return`\n                    <div class="cd-count-item">\n                        <div class="cd-item-name">${t}</div>\n                        <div class="cd-item-progress">\n                            <div class="cd-progress-bar" style="width: ${s}%; opacity: ${s/100}"></div>\n                            <span class="cd-percentage ${s>=46?"cd-many":""}">${s.toFixed(2)}%</span>\n                            <span class="cd-remaining ${s>=60?"cd-many":""}">\n                                <span class="cd-tip">还剩</span>${r}<span class="cd-tip">${n}</span>\n                            </span>\n                        </div>\n                    </div>\n                `})).join("")}let s;const c=()=>{r(),s=setInterval(r,6e5)};return["pjax:complete","DOMContentLoaded"].forEach((e=>document.addEventListener(e,c))),document.addEventListener("pjax:send",(()=>s&&clearInterval(s))),{start:c,stop:()=>s&&clearInterval(s)}})();
//# sourceMappingURL=../../maps/static/js/countdown.js.map
